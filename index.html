<!DOCTYPE html>
<html>
<head>
<title>The Yoga Sutras of Patanjali</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">

<style>
table, td { border: 1px solid black; }
</style>

<script src="convert-data-sa.js"  type="text/javascript"></script>
<script src="convert-in.js"       type="text/javascript"></script>
<script src="patanjali.js"        type="text/javascript"></script>

<script type="text/javascript">
function idx_rangechecked(nav) {
  var pnum = document.getElementById("pada").value  - 1;
  var snum = document.getElementById("sutra").value - 1;

  if (nav=='>>') { pnum += 1; } else if (nav=='<<') { pnum -= 1; };
  if (pnum < 0)  { pnum = 0; }  else if (pnum > 3) { pnum = 3; } 
  document.getElementById("pada").value  = pnum + 1; 

  var ccnt = patanjali_data["padas"][pnum]['cnt'];
  if (nav=='>')  { snum += 1; } else if (nav=='<') { snum -= 1; } else if (nav=='|>') { snum = ccnt - 1; } else if (nav=='<|') { snum = 0; };
  if (snum < 0)  { snum = 0; } else if (snum >= ccnt) { snum = ccnt - 1; };
  document.getElementById("sutra").value  = snum + 1;
  return [pnum,snum];
};
function showsutra(nav) {
  var [pnum,snum] = idx_rangechecked(nav);
  var cS = patanjali_data["padas"][pnum]['pS'];
  var cE = patanjali_data["padas"][pnum]['pE'];
  document.getElementById("chapter").innerHTML = cS ? INtranslit["u2devanagari"](INtranslit["itrans2u"](cS)) + " = " + cE : "";

  var d  = patanjali_data['patanjali'][pnum][snum];
  var p  = d ? INtranslit["itrans2u"](d) : "";
  document.getElementById("punicode").innerHTML       = INtranslit["u2devanagari"](p);
  document.getElementById("pitrans").innerHTML        = INtranslit["u2itrans"](p);
  document.getElementById("piast").innerHTML          = INtranslit["u2iast"](p);

  //var v  = d["vyasa"]     ? INtranslit["itrans2u"](d["vyasa"])     : "";
  //document.getElementById("vunicode").innerHTML       = INtranslit["u2devanagari"](v);
  //document.getElementById("vitrans").innerHTML        = INtranslit["u2itrans"](v);
  //document.getElementById("viast").innerHTML          = INtranslit["u2iast"](v);

  function g(x,idx) { var q = patanjali_data[x][pnum][snum]; document.getElementById(x).innerHTML = q ? q : ""; }
  var flds = ["vivekananda", "satchidananda", "bksiyengar", "cisherwood", "tkvdesikachar", "jnanesvara", "pradeepaka",
              /* "ganganathV", "ganganathP" */
              /* "meanings", "grammar", "notes", "xref", "refs", "audio", */ ];
  flds.forEach(g);
};
function Translit(conv) { 
  var q;
  if (conv=='>')  {
    document.getElementById("ttdevan").value = "";
    q = INtranslit["itrans2u"](document.getElementById("ttitrans").value);
    document.getElementById("ttdevan").value = INtranslit["u2devanagari"](q);
  } else if (conv=='<')  {
    document.getElementById("ttitrans").value = "";
    q = INtranslit["devanagari2u"](document.getElementById("ttdevan").value);
    document.getElementById("ttitrans").value = INtranslit["u2itrans"](q);
  }
};
</script>

</head>

<body>
<h1>The Yoga Sutras of Patanjali</h1>

<label for="pada">Pada:</label>
<input type="number" name="pada" id="pada" size=1 min=1 max=4 value=1 />
<label for="sutra">Sutra:</label>
<input type="number" name="sutra" id="sutra" size=2 min=1 max=56 value=1 />
<input type="button" name="go" id="go" value="Go" onclick="showsutra('.')" />
<input type="button" name="pbwd" id="pbwd" value="<<"  onclick="showsutra('<<')" />
<input type="button" name="pbeg" id="pbeg" value="<|"  onclick="showsutra('<|')" />
<input type="button" name="sbwd" id="sbwd" value="<"   onclick="showsutra('<')" />
<input type="button" name="sfwd" id="sfwd" value=">"   onclick="showsutra('>')" />
<input type="button" name="pend" id="pend" value="|>"  onclick="showsutra('|>')" />
<input type="button" name="pfwd" id="pfwd" value=">>"  onclick="showsutra('>>')" />
<p>

<table width="1050" style="border-collapse:collapse;">
<tr><th style="text-align:left">_</th>            <th id="chapter" style="text-align:left"> </th></tr>
<tr><td width="250">Patanjali (Devanagari):</td>  <td id="punicode" width="750">            </td></tr>
<tr><td>Patanjali (ITRANS):</td>                  <td id="pitrans">                         </td></tr>
<tr><td>Patanjali (IAST):</td>                    <td id="piast">                           </td></tr>
<tr><td>Maharishi Vyasa (Devanagari):</td>        <td id="vunicode">                        </td></tr>
<tr><td>Maharishi Vyasa (ITRANS):</td>            <td id="vitrans">                         </td></tr>
<tr><td>Maharishi Vyasa (IAST):</td>              <td id="viast">                           </td></tr>
<tr><td>Ganganath Jha on Vyasa:</td>              <td id="ganganathV">                      </td></tr>
<tr><td>Ganganath Jha on Patanjali:</td>          <td id="ganganathP">                      </td></tr>
<tr><td>Swami Vivekananda:</td>                   <td id="vivekananda">                     </td></tr>
<tr><td>Swami Satchidananda:</td>                 <td id="satchidananda">                   </td></tr>
<tr><td>Gabriel Pradeepaka:</td>                  <td id="pradeepaka">                      </td></tr>
<tr><td>B.K.S. Iyengar:</td>                      <td id="bksiyengar">                      </td></tr>
<tr><td>Chris Isherwood:</td>                     <td id="cisherwood">                      </td></tr>
<tr><td>T.K.V. Desikachar:</td>                   <td id="tkvdesikachar">                   </td></tr>
<tr><td>Swami Jnanesvara Bharati:</td>            <td id="jnanesvara">                      </td></tr>
<tr><td>Word Meanings:</td>                       <td id="meanings">                        </td></tr>
<tr><td>Grammatical Analysis:</td>                <td id="grammar">                         </td></tr>
<tr><td>Notes:</td>                               <td id="notes">                           </td></tr>
<tr><td>Cross References:</td>                    <td id="xref">                            </td></tr>
<tr><td>External References:</td>                 <td id="refs">                            </td></tr>
<tr><td>Audio:</td>                               <td id="audio">                           </td></tr>
</table>

<h4>ITRANS-Devnagari Transliteration Tool</h4>
<textarea id="ttitrans" rows="1" cols="65" spellcheck="false" autocomplete="off"></textarea>
<input type="button" name="i2d" id="i2d" value="<" onclick="Translit('<')" />
<input type="button" name="i2d" id="i2d" value=">" onclick="Translit('>')" />
<textarea id="ttdevan"  rows="1" cols="65" spellcheck="false" autocomplete="off"></textarea>

</body>
</html>
